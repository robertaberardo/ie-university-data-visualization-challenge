<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DATA VISUALIZATION CHALLANGE</title>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">

    <script src="data/parallel_reservation_arrival.js"></script>
    <script src="data/previous_cancellations.js"></script>
    <script src="data/relation_total_stay_total_people.js"></script>
    <script src="data/weekly_bookings_by_year.js"></script>
    <script src="data/weekly_bookings_by_country.js"></script>
    <script src="data/distribution_lead_time_cancelled_bookings.js"></script>
    <script src="data/median_lead_time.js"></script>
    <script src="data/distribution_lead_time_not_cancelled_bookings.js"></script>
    <script src="data/distribution_lead_time_not_cancelled_bookings_long.js"></script>
    <script src="data/mean_days_stay_month.js"></script>
    <script src="data/table_top_total_people.js"></script>

    <style>
        body {
            background-color: #0b0034;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==);
            background-size: 30px;
            background-blend-mode: hard-light;

        }

        .page {
            font-family: "Montserrat";
            color: #ffffff;
            height: calc(100vh - 4rem);
            /* margin: 20px; */
            padding: 20px;
            /* border: 1px solid #ccc; */
            /* box-shadow: 0 0 10px rgba(201, 201, 201, 0.4); */
        }

        .project-title {
            font-size: 124px;
            font-weight: bold;
            text-align: left;
            margin-bottom: 20px;
        }

        .page-title {
            font-size: 24px;
            /* font-weight: bold; */
            text-align: center;
            margin-bottom: 20px;
        }

        .dashboard-title {
            font-size: 18px;
            /* font-weight: bold; */
            margin-bottom: 10px;
        }

        .dashboard-description {
            font-size: 16px;
            margin-bottom: 20px;
            color: #A5E0FF;
        }

        .button-container {
            text-align: center;
            margin-top: 20px;
        }

        .button {
            position: absolute;
            /* text-align: center; */
            bottom: 5%;
            /* left: 50%; */
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            background-color: #ffffff;
            color: #0b0034;
            border: none;
            border-radius: 5px;
        }

        .dashboard-container {
            display: flex;
            justify-content: space-between;
            font-size: small;
            margin-right: 20px;
        }

        .dashboard {
            width: 48%;
        }

        .border-text {
            border-style: dashed;
            font-size: medium;
            max-width: 250px;
            border-color: white;
            border-width: 2px;
            padding: 10px;
            margin: 20px 0;
        }
    </style>
</head>

<body>

    <!-- Page 1: Title Page -->
    <div id="page1" class="page">
        <div class="project-title">
            DATA VISUALIZATION CHALLANGE<br>
            <span style="font-weight: 100;">HotelFlix</span>
        </div>
        <div class="dashboard-description">Roberta Saldanha da Silva Berardo Gomes</div>
        <div class="button-container">
            <button class="button" onclick="showPage(2)">></button>
        </div>
    </div>

    <!-- Page 2: Dashboard 1 -->
    <div id="page2" class="page" style="display: none;">
        <div class="page-title">UNDERSTANDING THE
            SEASONALITY OF THE
            BOOKINGS</div>
        <div class="dashboard-description">Objective: HotelFlix aims to better
            understand when their customers
            make their reservations and increase
            the revenue creating a price model
            that increases the price of reservations
            in high season and decreases in low
            season.</div>
        <div class="dashboard-container">
            <div class="dashboard">
                <div class="dashboard-title">Proposed price model</div>
                <div class="border-text" style="max-width: 370px; width: 370px; margin-top: 29px;">
                    High Demand Period: Increase price<br><br>
                    Between March (Week 12) and July (Week 28)<br>
                    October (Weeks 40-41)<br>
                    End of the year (Week 53)<br>
                </div>
                <!-- <div class="border-text" style="max-width: 350px;">
                    High Demand Period:  - Increase price
                </div>
                <div class="border-text" style="max-width: 350px;">
                    High Demand Period:  - Increase price
                </div> -->
                <div class="border-text" style="max-width: 390px;">
                    Low Demand Periods: Decrease price<br><br>
                    Rest of the year, espcialy January and mid-February (Weeks 1-6)
                </div>
                <div>
                    <div style="margin-top: 50px;">
                        A significant increase in bookings is observed between weeks 12 and 28, followed by a gradual decline from week 28 and a new rise near week 40, indicating a second peak season, which is favorable for raising prices. However, within these periods, weeks like 16 and 29 show below-average demand, making it advisable to offer promotions to attract customers. After the peak season, the market enters a low period, from weeks 46 to 48. The end of the year also records an increase in bookings due to holidays, on a smaller or larger scale depending on the country.
                    </div>
                </div>
            </div>
            <div class="dashboard" style="margin-left: 50px;">
                <div class="dashboard-title">Weekly Bookings by Year</div>
                <div id="dashboard1"style="margin-top: 15px;"></div>
                <div style="padding: 10px; max-width: 600px;">
                    Analyzing the data country by country, distinct dynamics emerge. In France and Spain, demand increases between weeks 32 and 34, while Portugal maintains constant demand. Spain has a peak in week 13, likely due to local events, and does not show high demand in weeks 42 to 47. Price adjustments should consider these local particularities to reflect the specific demand of each market and avoid errors.
                </div>
            </div>
            
            <div class="dashboard" style="margin-left: 50px;">
                <div class="dashboard-title">Weekly Bookings by Country in 2016</div>
                <div id="dashboard1-country"></div>
            </div>
            <!-- <div class="dashboard">
                <div class="dashboard-description">Description of Dashboard 3.</div>
                <div id="dashboard1-test"></div>
            </div> -->
        </div>

        <div class="button-container">
            <button class="button" onclick="showPage(3)">></button>
        </div>
    </div>

    <!-- Page 3: Dashboard 2 -->
    <div id="page3" class="page" style="display: none;">
        <div class="page-title">CREATING THE SHAPE OF THE FUTURES HOTEL PACKAGES</div>
        <!-- <div class="dashboard-title">Dashboard 1 Title</div> -->
        <div class="dashboard-description">Objective: Support HotelFlix
            understanding the typical period of
            time that the customers are in the
            hotels to create attractive different day
            packages. With this information
            HotelFlix expects to attract 20% more
            people to their hotels.</div>

        <div class="dashboard-container">
            <div class="dashboard">
                <div class="dashboard-title">Relationship between length of stay and number of customers</div>
                <div id="dashboard2"></div>
            </div>
            <div class="dashboard">
                <div style="margin: 0px 20px; max-width: 300px;">
                    <div class="dashboard-title">Proposed Packages</div>

                    <div class="border-text">
                        4 to 5 days packages<br><br>
                        <span style="font-size: small;">
                            The heatmap indicates a significant peak in reservations for stays of 2 to 3 days, particularly for groups of 2 to 3 people. However, there is a notable decline in bookings for stays longer than 4 days, suggesting an opportunity to promote longer stay packages to increase occupancy and revenue.</span>
                    </div>
                    <div class="border-text">
                        2 days package for 1 person<br><br>
                        <span style="font-size: small;">There is a noticeable trend of one-day stays at hotels, which may indicate business trips or similar engagements. Offering a two-day package could enhance the appeal of a two-day stay for this group without negatively impacting the typical two-day booking revenue.</span>
                    </div>
                </div>
                
            </div>
            <div class="dashboard">
                <div class="dashboard-title">Seasonal Trends in Length of Stay</div>
                <div id="dashboard2-mean-days-of-stay-month"></div>
                <div class="border-text" style="max-width: 280px;">
                    7 to 10 days packages in July<br><br>
                    <span style="font-size: small;">The longest average length of stay (nearly 4 days) occurs in July, which is typically a vacation period. Offering packages for 7 to 10 days (with increasing discounts as the number of days increases) can encourage longer stays at the hotels.</span>
                </div>
            </div>

            <div class="dashboard">
                <div class="dashboard-title">Larger group stays at Resort Hotel</div>
                <div id="dashboard2-table"></div>

                <div class="border-text" style="margin-top: 0px; max-width: 320px;">
                    Business opportunity<br><br>
                    <span style="font-size: small;">HotelFlix can attract larger groups for events at the Resort Hotel. Although currently a small market segment, it holds significant potential for revenue growth. Investing in targeted marketing and tailored event packages can transform this opportunity into a substantial income source.</span>
                </div>    
            </div>


            <!-- <div>Pegar a distrbuição</div> TODO ver se eu vou pegar o dashboard --> 
        </div>

        <!--         
        <div id="dashboard2"></div>
        <div id="dashboard2-test"></div> -->

        <div class="button-container">
            <button class="button" onclick="showPage(4)">></button>
        </div>
    </div>

    <!-- Page 4: Dashboard 3 -->
    <div id="page4" class="page" style="display: none;">
        <div class="page-title">COMPREHENDING THE CANCELLATION FOUNDATIONS</div>
        <div class="dashboard-description">Objective: Establish a good cancellation policy for all the bookings based on
            the past cancellations to help HotelFlix to save 25% of cancellations budget. Create different penalties for
            cancellations for different groups of days until booking.</div>

        <div class="dashboard-container">
            <div class="dashboard">
                <div class="dashboard-title">Distribution of Lead Times for Canceled Bookings</div>
                <div id="dashboard3-distribution"></div>
            </div>
            <div class="dashboard">
                <div class="dashboard-title">Distribution of Lead Times for Non-Canceled Bookings</div>
                <div id="dashboard3-distribution-not-cancelled"></div>
            </div>
            <div>
                <div class="dashboard-title">Percentage of canceled bookings<br>with previous cancellations</div>
                <div id="dashboard3-previous-cancelations" style="margin-bottom: 40px;"></div>

                <div class="dashboard-title">Median lead time for not canceled<br>bookings</div>
                <div id="dashboard3-median-lead-time"></div>
                
                
            </div>
        </div>
        <div class="dashboard-container">
            <div class="border-text" style="border-color: #F5E726;">
                0 to 7 days: 90% Penalty<br><br>
                <span style="font-size: small;">Cancellations 0-7 days before arrival incur a 90% penalty due to the difficulty of rebooking on short notice and potential revenue loss. High cancellation rates in this period don’t usually impact demand but ensure booking certainty.</span>
            </div>
            <div class="border-text" style="border-color: #F8963F;">
                7 to 45 days: 50% Penalty<br><br>
                <span style="font-size: small;">The median time between booking and check-in is 45 days. Up to 45 days before arrival, about half of guests have already booked. A 50% cancellation fee applies during this period, as ongoing bookings help mitigate the impact of cancellations.                </span>
            </div>
            <div class="border-text" style="border-color: #D7566C;">
                45 to 90 days: 20% Penalty<br><br>
                <span style="font-size: small;">
                    For cancellations 45-90 days before arrival, a reduced penalty of 20% is recommended. This helps maintain customer satisfaction and leverages market demand, as there’s still a significant opportunity to rebook and minimize revenue loss.</span>
            </div>
            <div class="border-text" style="border-color: #8B09A4;">
                From 91 days: No penalty<br><br>
                <span style="font-size: small;">For cancellations made more than 91 days before the arrival date, no penalty should be applied. The extended lead time provides ample opportunity to rebook the room, mitigating the impact of the cancellation.</span>
            </div>
            <div class="border-text">
                Previous Cancellations<br><br>
                <span style="font-size: small;">There is an opportunity to impose penalties for recurring cancellations, as 13% of cancellations are made by clients who have previously canceled.</span>
            </div>
        </div>
        

        <div class="button-container">
            <button class="button" onclick="showPage(5)">></button>
        </div>
    </div>

    <!-- Page 5: Dashboard 4 -->
    <div id="page5" class="page" style="display: none;">
        <div class="page-title">PREPARING THE IT SYSTEMS FOR THE DEMAND</div>
    
        <div class="dashboard-description">
            Objective: HotelFlix wants to know when they will have peak demands in their booking system to provide a consistent solution without any interruption based on the past booking data that they have.
        </div>
    
        <div class="dashboard-container">
            <div class="dashboard">
                <div class="dashboard-title">Relation between reservation and arrival dates</div>
                <div id="dashboard4"></div>
            </div>
            <div class="dashboard">
                <div class="dashboard-title">Distribuiton of not cancelled lead time</div>
                <div id="dashboard4-distribution-not-cancelled"></div>

                <div class="dashboard-container" style="margin: 22px;">
                    <div class="dashboard" style="margin-top: 20px;">
                        There is an increase in bookings during the early months of the year, indicating peak demand for the IT system. It's crucial to note that the vast majority of guests book within 7 days in advance. To prevent website errors, it's important to anticipate higher traffic not only in January, February, and March but also before holidays and peak demand dates.
                    </div>
                    <div class="dashboard">
                        <div class="border-text" style="font-size: small; margin: 20px;">
                            High IT demands in January and February
                        </div>
                        <div class="border-text" style="font-size: small; margin: 20px;">
                            High IT demands 7 days before holidays and vacations
                        </div>
                    </div>
                </div>
                
                
            </div>
        </div>
    
        <div class="button-container">
            <button class="button" onclick="showPage(6)">></button>
        </div>
    </div>
    

    <!-- Page 6: Final Page -->
    <div id="page6" class="page" style="display: none;">
        <div class="page-title">THANK YOU!</div>
        <div class="button-container">
            <button class="button" onclick="showPage(1)">Restart</button>
        </div>
    </div>




    <script>
        // Function to show/hide pages based on the page number
        function showPage(pageNum) {
            for (let i = 1; i <= 6; i++) {
                document.getElementById('page' + i).style.display = 'none';
            }
            document.getElementById('page' + pageNum).style.display = 'block';
        }

        var plotlyConfig = { "displayModeBar": false }

        function loadDashboards() {

            Plotly.newPlot('dashboard1',
                weekly_bookings_by_year.data,
                weekly_bookings_by_year.layout,
                plotlyConfig
            );

            Plotly.newPlot('dashboard1-country',
                weekly_bookings_by_country.data,
                weekly_bookings_by_country.layout,
                plotlyConfig
            );

            Plotly.newPlot('dashboard2',
                relation_total_stay_total_people.data,
                relation_total_stay_total_people.layout,
                plotlyConfig
            );

            Plotly.newPlot('dashboard2-mean-days-of-stay-month',
                mean_days_stay_month.data,
                mean_days_stay_month.layout,
                plotlyConfig
            );

            Plotly.newPlot('dashboard2-table', 
                table_top_total_people.data,
                table_top_total_people.layout,
                plotlyConfig
            )

            Plotly.newPlot('dashboard3-distribution',
                distribution_lead_time_cancelled_bookings.data,
                distribution_lead_time_cancelled_bookings.layout,
                plotlyConfig
            );

            Plotly.newPlot('dashboard3-distribution-not-cancelled',
                distribution_lead_time_not_cancelled_bookings.data,
                distribution_lead_time_not_cancelled_bookings.layout,
                plotlyConfig
            )

            Plotly.newPlot('dashboard3-previous-cancelations',
                previous_cancellations.data,
                previous_cancellations.layout,
                plotlyConfig
            );

            Plotly.newPlot('dashboard3-median-lead-time',
                median_lead_time.data,
                median_lead_time.layout,
                plotlyConfig
            );

            Plotly.newPlot('dashboard4',
                parallel_reservation_arrival.data,
                parallel_reservation_arrival.layout,
                plotlyConfig
            );

            Plotly.newPlot('dashboard4-distribution-not-cancelled',
                distribution_lead_time_not_cancelled_bookings_long.data,
                distribution_lead_time_not_cancelled_bookings_long.layout,
                plotlyConfig 
            )
        }

        // Load dashboards when the document is ready
        document.addEventListener('DOMContentLoaded', function () {
            loadDashboards();
            showPage(1);
        });
    </script>

</body>

</html>